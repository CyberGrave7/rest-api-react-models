(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t,a){e.exports=a(318)},135:function(e,t,a){},137:function(e,t,a){},318:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),o=a.n(l),i=(a(135),a(14)),c=a(15),s=a(17),d=a(16),u=a(18),h=a(24),p=(a(137),a(34)),m=a(23),f=a(6),v=a.n(f),b=a(122),C=a.n(b),g=a(123),y=a.n(g),k=a(35),E=a.n(k),O=a(116),j=a.n(O),w=a(124),S=a.n(w),M=a(66),P=a.n(M),A=a(118),U=a.n(A),D=a(50),q=a.n(D),T=a(30),x=a.n(T),R=a(29),H=a.n(R),N=a(81),B=a.n(N),_=a(31),I=a.n(_),L=a(51),F=a.n(L),J=a(120),W=a.n(J),V=a(119),X=a.n(V),G=a(121),z=a.n(G),K=a(64),$=a.n(K),Q=a(28),Y=0;function Z(e,t,a,n,r){return{id:Y+=1,name:e,calories:t,fat:a,carbs:n,protein:r}}function ee(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var te=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onSelectAllClick,n=t.order,l=t.orderBy,o=t.numSelected,i=t.rowCount,c=t.headers;return r.a.createElement(j.a,null,r.a.createElement(P.a,null,r.a.createElement(E.a,{padding:"checkbox"},r.a.createElement(B.a,{indeterminate:o>0&&o<i,checked:o===i,onChange:a})),c.map(function(t){return r.a.createElement(E.a,{key:t._id,numeric:t.numeric,padding:t.disablePadding?"none":"default",sortDirection:l===t._id&&n},r.a.createElement(F.a,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(U.a,{active:l===t._id,direction:n,onClick:e.createSortHandler(t._id)},t.path)))},this)))}}]),t}(r.a.Component),ae=function(e){var t=e.numSelected,a=e.classes;return r.a.createElement(q.a,{className:v()(a.root,Object(m.a)({},a.highlight,t>0))},r.a.createElement("div",{className:a.title},t>0?r.a.createElement(x.a,{color:"secondary",variant:"subheading"},t," selected"):r.a.createElement(x.a,{variant:"title",id:"tableTitle"},r.a.createElement($.a,{label:"filter",value:e.filterValue,onChange:e.onChangeFilter}))),r.a.createElement("div",{className:a.spacer}),r.a.createElement("div",{className:a.actions},1===t&&r.a.createElement(F.a,{title:"Modify"},r.a.createElement(I.a,{onClick:e.onModifyClick,"aria-label":"Modify"},r.a.createElement(X.a,null))),t>0?r.a.createElement(F.a,{title:"Delete"},r.a.createElement(I.a,{onClick:e.onDeleteClick,"aria-label":"Delete"},r.a.createElement(W.a,null))):r.a.createElement(F.a,{title:"Add element"},r.a.createElement(I.a,{onClick:e.onAddClick,"aria-label":"Add element"},r.a.createElement(z.a,null)))))};ae=Object(h.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Q.lighten)(e.palette.secondary.light,.75)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{display:"inherit",color:e.palette.text.secondary},title:{flex:"0 0 auto"}}},{withTheme:!0})(ae);var ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={order:"asc",orderBy:"calories",selected:[],filter:"",data:[Z("Cupcake",305,3.7,67,4.3),Z("Donut",452,25,51,4.9),Z("Eclair",262,16,24,6),Z("Frozen yoghurt",159,6,24,4),Z("Gingerbread",356,16,49,3.9),Z("Honeycomb",408,3.2,87,6.5),Z("Ice cream sandwich",237,9,37,4.3),Z("Jelly Bean",375,0,94,0),Z("KitKat",518,26,65,7),Z("Lollipop",392,.2,98,0),Z("Marshmallow",318,0,81,2),Z("Nougat",360,19,9,37),Z("Oreo",437,18,63,4)],page:0,rowsPerPage:5},a.handleRequestSort=function(e,t){var n=t,r="desc";a.state.orderBy===t&&"desc"===a.state.order&&(r="asc"),a.setState({order:r,orderBy:n})},a.handleSelectAllClick=function(e){e.target.checked?a.props.onSelect(a.props.data.map(function(e){return e._id})):a.props.onSelect([])},a.handleClick=function(e,t){var n=a.props.selected,r=n.indexOf(t),l=[];-1===r?l=l.concat(n,t):0===r?l=l.concat(n.slice(1)):r===n.length-1?l=l.concat(n.slice(0,-1)):r>0&&(l=l.concat(n.slice(0,r),n.slice(r+1))),a.props.onSelect(l)},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.isSelected=function(e){return-1!==a.props.selected.indexOf(e)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.data,l=t.selected,o=t.headers,i=t.onDeleteClick,c=t.onModifyClick,s=t.onAddClick,d=t.filterValue,u=t.onChangeFilter,h=this.state,p=h.order,m=h.orderBy,f=h.rowsPerPage,v=h.page,b=f-Math.min(f,n.length-v*f);return r.a.createElement(H.a,{className:a.root},r.a.createElement(ae,{numSelected:l.length,onAddClick:s,onModifyClick:c,onDeleteClick:i,filterValue:d,onChangeFilter:u}),r.a.createElement("div",{className:a.tableWrapper},r.a.createElement(C.a,{className:a.table,"aria-labelledby":"tableTitle"},r.a.createElement(te,{headers:o,numSelected:l.length,order:p,orderBy:m,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:n.length}),r.a.createElement(y.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(n,function(e,t){return"desc"===e?function(e,a){return ee(e,a,t)}:function(e,a){return-ee(e,a,t)}}(p,m)).slice(v*f,v*f+f).map(function(t){var a=e.isSelected(t._id);return r.a.createElement(P.a,{hover:!0,onClick:function(a){return e.handleClick(a,t._id)},role:"checkbox","aria-checked":a,tabIndex:-1,key:t._id,selected:a},r.a.createElement(E.a,{padding:"checkbox"},r.a.createElement(B.a,{checked:a})),o.map(function(e){return r.a.createElement(E.a,null,function e(t,a){if(void 0===t)return"";if(void 0===a)return null;if(void 0===a.path)return null;var n=a.path.split("."),r=n.shift();return n.length>0?e(t[r],n.join(".")):"object"===typeof t[r]?a.label?Array.isArray(t[r])?t[r].map(function(e){return e[a.label]}).join("\r\n"):t[r][a.label]:JSON.stringify(t[r],null,2):t[r]}(t,e))}))}),b>0&&r.a.createElement(P.a,{style:{height:49*b}},r.a.createElement(E.a,{colSpan:6}))))),r.a.createElement(S.a,{component:"div",count:n.length,rowsPerPage:f,page:v,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(r.a.Component),re=Object(h.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:1020},tableWrapper:{overflowX:"auto"}}},{withTheme:!0})(ne),le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],filter:"",selected:[]},a.onChangeSelected=function(e){a.setState({selected:e})},a.onAddClick=function(){a.props.onAddClick(function(){a.refreshData()})},a.onModifyClick=function(){a.props.onModifyClick(a.state.data.find(function(e){return e._id===a.state.selected[0]}),function(){a.refreshData({selected:[]})})},a.onDeleteClick=function(){var e=a.state.selected;a.props.onDeleteClick(e,function(){a.refreshData({selected:[]})})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"refreshData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.props.route,n=this.state.filter,r=new Request(a+(n?"?$any=".concat(n):""),{headers:this.props.requestHeaders});fetch(r).then(function(a){a.json().then(function(a){e.setState(Object(p.a)({data:a},t))}).catch(function(e){})}).catch(function(e){})}},{key:"componentDidMount",value:function(){this.refreshData()}},{key:"componentDidUpdate",value:function(e,t){function a(e,t){return{route:e.route,filter:t.filter}}JSON.stringify(a(e,t))!==JSON.stringify(a(this.props,this.state))&&this.refreshData()}},{key:"render",value:function(){var e=this;return r.a.createElement(re,Object.assign({},this.props,{data:this.state.data,filterValue:this.state.filter,onAddClick:this.onAddClick,onModifyClick:this.onModifyClick,onDeleteClick:this.onDeleteClick,selected:this.state.selected,onSelect:this.onChangeSelected,onChangeFilter:function(t){return e.setState({filter:t.target.value})}}))}}]),t}(r.a.Component),oe=a(125),ie=a.n(oe),ce=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={data:e.data},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState({data:e})}},{key:"render",value:function(){return r.a.createElement(we,{value:this.state.data,onChange:this.handleChange.bind(this),paths:this.props.paths})}},{key:"data",get:function(){return this.state.data}}]),t}(r.a.Component),se=a(22),de=a.n(se),ue=a(41),he=a.n(ue),pe=a(42),me=a.n(pe),fe=a(43),ve=a.n(fe),be=a(40),Ce=a.n(be),ge=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={addPopUp:!1,updatePopUp:!1,updateModel:{},selected:null},a.updateModel=r.a.createRef(),a.saveModel=r.a.createRef(),a.onAddClick=function(){a.setState({addPopUp:!0})},a.handleAddConfirm=function(){var e=a.props.value;e.push(a.saveModel.current.data),a.props.onChange(e),a.setState({addPopUp:!1})},a.handleUpdateConfirm=function(){var e=a.props.value;e[a.state.selected](a.updateModel.current.data),a.props.onChange(e),a.setState({updatePopUp:!1,selected:!1})},a.handleAddClose=function(){a.setState({addPopUp:!1})},a.handleUpdateClose=function(){a.setState({updatePopUp:!1})},a.onModifyClick=function(e){a.setState({updateModel:a.props.value[e],selected:e,updatePopUp:!0})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(H.a,{style:{borderColor:"lightblue",padding:10}},r.a.createElement(Ce.a,{open:this.state.addPopUp,onClose:this.handleAddClose},r.a.createElement(he.a,null,"Add item to array"),r.a.createElement(me.a,null,r.a.createElement(Se,{ref:this.saveModel,paths:this.props.paths})),r.a.createElement(ve.a,null,r.a.createElement(de.a,{onClick:this.handleAddClose,color:"primary"},"Cancel"),r.a.createElement(de.a,{onClick:this.handleAddConfirm,color:"primary"},"Save"))),r.a.createElement(Ce.a,{open:this.state.updatePopUp,onClose:this.handleUpdateClose},r.a.createElement(he.a,null,"Modify item"),r.a.createElement(me.a,null,r.a.createElement(ce,{ref:this.updateModel,data:this.state.updateModel,paths:this.props.paths})),r.a.createElement(ve.a,null,r.a.createElement(de.a,{onClick:this.handleUpdateClose,color:"primary"},"Cancel"),r.a.createElement(de.a,{onClick:this.handleUpdateConfirm,color:"primary"},"Update"))),r.a.createElement("div",null,r.a.createElement(de.a,{onClick:this.onAddClick.bind(this)},"Add")),r.a.createElement("div",null,this.props.value.map(function(t,a){return r.a.createElement(ie.a,{key:a,clickable:!0,onClick:e.onModifyClick.bind(e,a),label:t[e.props.label]})})))}}]),t}(r.a.Component),ye=a(5),ke=a.n(ye),Ee=a(65),Oe=a.n(Ee),je=ke()({root:{margin:"10px"}})($.a),we=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e,t){this.props.onChange(Object(p.a)({},this.props.value,Object(m.a)({},e,t.target.value)))}},{key:"handleModelChange",value:function(e,t){this.props.onChange(Object(p.a)({},this.props.value,Object(m.a)({},e,t)))}},{key:"renderPath",value:function(e){return e.complex?r.a.createElement("div",null,r.a.createElement("div",{style:{marginLeft:5,marginTop:5}},r.a.createElement(Oe.a,{required:e.required},e.name)),r.a.createElement(t,{value:this.props.value[e.name],onChange:this.handleModelChange.bind(this,e.name),paths:e.children})):"Array"===e.type?r.a.createElement("div",null,r.a.createElement("div",{style:{marginLeft:5,marginTop:5}},r.a.createElement(Oe.a,{required:e.required},e.name)),r.a.createElement("div",null,r.a.createElement(ge,{value:this.props.value[e.name],onChange:this.handleModelChange.bind(this,e.name),paths:e.children,label:e.label?e.label:"_id"}))):r.a.createElement(je,{value:this.props.value[e.name],onChange:this.handleChange.bind(this,e.name),label:e.name,required:e.required})}},{key:"render",value:function(){var e=this;return this.props.paths.filter(function(e){return"_id"!==e.name&&"__v"!==e.name}).map(function(t){return e.renderPath(t)})}}]),t}(r.a.Component);var Se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={data:function e(t){return t.filter(function(e){return"_id"!==e.name}).map(function(t){return t.complex?{key:t.name,value:e(t.children)}:"Array"===t.type?{key:t.name,value:[]}:{key:t.name,value:""}}).reduce(function(e,t){return e[t.key]=t.value,e},{})}(e.paths)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState({data:e})}},{key:"render",value:function(){return r.a.createElement(we,{value:Object(p.a)({},this.props.data,this.state.data),onChange:this.handleChange.bind(this),paths:this.props.paths})}},{key:"data",get:function(){return this.state.data}}]),t}(r.a.Component),Me=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={addPopUp:!1,updatePopUp:!1,updateModel:{},callback:null},a.updateModel=r.a.createRef(),a.saveModel=r.a.createRef(),a.handleAddConfirm=function(){var e=a.props.model.route,t=a.state.callback,n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&201===n.status&&(t(null),a.setState({addPopUp:!1}))},n.open("POST",e,!0);var r=a.props.requestHeaders;Object.keys(r).forEach(function(e){n.setRequestHeader(e,r[e])}),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(a.saveModel.current.data))},a.handleUpdateConfirm=function(){var e=a.props.model.route,t=a.state.callback,n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(t(null),a.setState({updatePopUp:!1}))},n.open("PUT","".concat(e,"/").concat(a.state.updateModel._id),!0);var r=a.props.requestHeaders;Object.keys(r).forEach(function(e){n.setRequestHeader(e,r[e])}),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(a.updateModel.current.data))},a.handleAddClose=function(){a.setState({addPopUp:!1})},a.handleUpdateClose=function(){a.setState({updatePopUp:!1})},a.onAddClick=function(e){a.setState({addPopUp:!0,callback:e})},a.onModifyClick=function(e,t){a.setState({updateModel:e,updatePopUp:!0,callback:t})},a.onDeleteClick=function(e,t){var n=a.props.model.name;e.forEach(function(e){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&200===r.status?t(null):400===r.status&&alert("some error")},r.open("DELETE","/".concat(n,"/").concat(e),!0);var l=a.props.requestHeaders;Object.keys(l).forEach(function(e){r.setRequestHeader(e,l[e])}),r.send()})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.model.route,t=this.props.model.paths.filter(function(e){return"_id"!==e.name});return r.a.createElement("div",null,r.a.createElement(Ce.a,{open:this.state.addPopUp,onClose:this.handleAddClose},r.a.createElement(he.a,null,"Add ",this.props.model.name),r.a.createElement(me.a,null,r.a.createElement(Se,{ref:this.saveModel,paths:t})),r.a.createElement(ve.a,null,r.a.createElement(de.a,{onClick:this.handleAddClose,color:"primary"},"Cancel"),r.a.createElement(de.a,{onClick:this.handleAddConfirm,color:"primary"},"Save"))),r.a.createElement(Ce.a,{open:this.state.updatePopUp,onClose:this.handleUpdateClose},r.a.createElement(he.a,null,"Modify ",this.props.model.name),r.a.createElement(me.a,null,r.a.createElement(ce,{ref:this.updateModel,data:this.state.updateModel,paths:t})),r.a.createElement(ve.a,null,r.a.createElement(de.a,{onClick:this.handleUpdateClose,color:"primary"},"Cancel"),r.a.createElement(de.a,{onClick:this.handleUpdateConfirm,color:"primary"},"Update"))),r.a.createElement(le,{requestHeaders:this.props.requestHeaders,headers:[{id:"_id",path:"_id"}].concat(t.map(function(e,t){return{id:t,path:e.name,label:e.label}})),route:e,onAddClick:this.onAddClick,onModifyClick:this.onModifyClick,onDeleteClick:this.onDeleteClick}))}}]),t}(n.Component),Pe=a(83),Ae=a.n(Pe),Ue=a(128),De=a.n(Ue),qe=a(79),Te=a.n(qe),xe=a(80),Re=a.n(xe),He=a(126),Ne=a.n(He),Be=a(82),_e=a.n(Be),Ie=a(127),Le=a.n(Ie),Fe=a(129),Je=a.n(Fe);function We(e){var t={};e.selected&&(t={primary:{color:"blue"}});var a=Object(h.withStyles)(t)(Ne.a);return r.a.createElement(a,e)}var Ve=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={mobileOpen:!1},a.handleDrawerToggle=function(){a.setState(function(e){return{mobileOpen:!e.mobileOpen}})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showAppBar,a=e.classes,n=e.theme,l=e.menuItems,o=e.selected,i=e.content,c=e.title,s=e.onItemMenuClick,d=r.a.createElement("div",null,t&&r.a.createElement("div",{className:a.toolbar}),r.a.createElement(Le.a,null),r.a.createElement(Te.a,null,l.map(function(e){return r.a.createElement(Re.a,{key:e,onClick:s.bind(null,e),button:!0},r.a.createElement(We,{selected:o===e,primary:e}))})));return r.a.createElement("div",{className:a.root},t&&r.a.createElement(De.a,{className:a.appBar,color:"primary"},r.a.createElement(q.a,null,r.a.createElement(I.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerToggle,className:a.navIconHide},r.a.createElement(Je.a,null)),r.a.createElement(x.a,{variant:"title",color:"inherit",noWrap:!0},c))),r.a.createElement(_e.a,{mdUp:!0},r.a.createElement(Ae.a,{variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},d)),r.a.createElement(_e.a,{smDown:!0,implementation:"css"},r.a.createElement(Ae.a,{variant:"permanent",open:!0,classes:{paper:a.drawerPaper}},d)),r.a.createElement("main",{className:a.content},t&&r.a.createElement("div",{className:a.toolbar}),i))}}]),t}(r.a.Component),Xe=Object(h.withStyles)(function(e){return{root:{flexGrow:1,height:"auto",zIndex:1,overflow:"hidden",position:"relative",display:"flex",width:"100%"},appBar:Object(m.a)({height:65,position:"absolute",marginLeft:240},e.breakpoints.up("md"),{width:"calc(100% - ".concat(240,"px)")}),navIconHide:Object(m.a)({},e.breakpoints.up("md"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:Object(m.a)({height:"100vh",width:240},e.breakpoints.up("md"),{position:"relative"}),content:{minHeight:"calc(100vh - 48px)",flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit}}},{withTheme:!0})(Ve),Ge=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={menu:null,tree:[],headers:{},init:!1,showAppBar:!0,theme:Object(h.createMuiTheme)({palette:{primary:{light:"#7d6cff",main:"#5741ff",dark:"#452cff",contrastText:"#fff"},secondary:{light:"#88b7ff",main:"#5f9eff",dark:"#2c7fff",contrastText:"#000"}}})},a.handleFrameTasks=function(e){switch(e.data.action){case"theme":return a.setState({theme:Object(h.createMuiTheme)(e.data.value)});case"headers":return a.setState({headers:e.data.value});case"showAppBar":return a.setState({showAppBar:e.data.value});case"init":return a.setState({init:!0});default:return}},a.requestTree=function(){var e=new Request("tree",{headers:a.state.headers});fetch(e).then(function(e){return e.json()}).then(function(e){a.setState({tree:e})}).catch(function(e){console.error(e)})},a.handleItemMenuClick=function(e){window.parent.postMessage({action:"configurationMenuChanged",item:e},window.origin),a.setState({menu:e})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleFrameTasks),window.parent.postMessage("componentDidMount",window.origin)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleFrameTasks)}},{key:"componentDidUpdate",value:function(e,t){this.state.init&&(t&&this.state.init===t.init||this.requestTree())}},{key:"render",value:function(){var e=this;if(!this.state.init)return null;var t=null===this.state.menu?r.a.createElement("div",null,r.a.createElement("p",null,"Select an item from menu")):r.a.createElement("div",null,r.a.createElement(Me,{model:this.state.tree.find(function(t){return t.name===e.state.menu}),requestHeaders:this.state.headers}));return r.a.createElement(h.MuiThemeProvider,{theme:this.state.theme},r.a.createElement(Xe,{showAppBar:this.state.showAppBar,selected:this.state.menu,onItemMenuClick:this.handleItemMenuClick,title:this.state.menu?this.state.menu:"Configuration",menuItems:this.state.tree.map(function(e){return e.name}),content:t}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[130,2,1]]]);
//# sourceMappingURL=main.ccf3b5dc.chunk.js.map